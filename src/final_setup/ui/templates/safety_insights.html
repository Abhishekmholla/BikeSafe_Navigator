{% extends "base.html" %}
{% block title %}Insights{% endblock %}
{% block container_class %}container-fluid mt-4{% endblock %}
{% block content %}
<!DOCTYPE html>
    <html lang="en">
        <head>
            
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Insights</title>
            <script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    
            <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
                
        </head>
        <body>
            <div class="cards-container">
                <div class="container insights-graph">
                    <div class="row">
                        <div class="col graph">
                            <h4 class="insights">Geospacial Distribution of Bicycle Accidents by LGAs</h4>
                            <br>    
                            Explore the distribution of bicycle accidents across the City of Melbourne, 
                            categorized by Local Government Areas (LGAs). 
                            Hover over each LGA to view detailed information on the number of accidents 
                            that have occurred in that area.
                            <div id="plotly"></div>
                        </div>
                    </div>
                </div>
                <!-- <div class="col-6">
                    <div class="card text-center">
                        <div class="card-header">
                            Cyclist Accident Bar Chart Coming Soon
                        </div>
                        <div class="card-body">
                            <p>We are working hard to implement this feature. Stay tuned!</p>
                        </div>
                        <div class="card-footer text-muted">
                            Thank you for your patience.
                        </div>
                    </div>
                </div> -->
            </div>
            <script type="text/javascript">

                var graphs = JSON.parse('{{plot|safe}}');
                Plotly.react('plotly',graphs,{});
            </script>
        </body>
    </html>
{% endblock %}
